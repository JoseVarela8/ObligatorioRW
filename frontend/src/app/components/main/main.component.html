<app-header></app-header>
<div class="main-container">
  <header class="main-header">
    <nav class="nav-bar">
      <a href="#fase-de-grupos">Fase de Grupos</a>
      <a href="#cuartos">Cuartos</a>
      <a href="#semifinal">Semifinal</a>
      <a href="#final">Final</a>
    </nav>
  </header>

  <section id="fase-de-grupo" class="group-section">
    <h2 (click)="toggleSection('faseDeGrupos')">Fase de Grupos</h2>
    <div class="prediction-cards" [@toggleAnimation]="sectionVisible['faseDeGrupos']">
      <div class="prediction-card" *ngFor="let match of matches | filterByPhase: 'Grupo'">
        <div class="card-header">
          <span>{{ match.date }}</span>
          <span class="group-label">{{ match.group }}</span>
        </div>
        <div class="teams">
          <div class="team">
            <img [src]="match.team1.flag" alt="{{ match.team1.name }} flag">
            <span>{{ match.team1.name }}</span>
          </div>
          <div class="score-controls">
            <button (click)="increaseScore(match.team1)" >+</button>
            <span class="score">{{ match.team1.score }}</span>
            <button (click)="decreaseScore(match.team1)" >-</button>
          </div>
          <div class="score-controls">
            <button (click)="increaseScore(match.team2)" >+</button>
            <span class="score">{{ match.team2.score }}</span>
            <button (click)="decreaseScore(match.team2)" >-</button>
          </div>
          <div class="team">
            <img [src]="match.team2.flag" alt="{{ match.team2.name }} flag">
            <span>{{ match.team2.name }}</span>
          </div>
        </div>
        <div class="stadinfo">
            <span>{{ match.stadium }}</span>
        </div>
        <div class="card-footer">
          <!-- <span *ngIf="match.predictionEntered">Predicción ya realizada</span> -->
          <button *ngIf="!match.predictionEntered" class="submit-button" [disabled]="!isValidPrediction(match)" (click)="submitPrediction(match)">
            Ingresar Predicción
          </button>
          <button *ngIf="match.predictionEntered" class="submit-button" [disabled]="!isValidPrediction(match)" (click)="submitPrediction(match)">
            Modificar Predicción
          </button>
        </div>
      </div>
    </div>
  </section>
  <section id="cuartos" class="group-section">
    <h2 (click)="toggleSection('cuartos')">Cuartos</h2>
    <div class="prediction-cards" [@toggleAnimation]="sectionVisible['cuartos']">
      <div class="prediction-card" *ngFor="let match of matches | filterByPhase: 'Cuartos'">
        <!-- Match card content -->
      </div>
    </div>
  </section>

  <section id="semifinal" class="group-section">
    <h2 (click)="toggleSection('semifinal')">Semifinal</h2>
    <div class="prediction-cards" [@toggleAnimation]="sectionVisible['semifinal']">
      <div class="prediction-card" *ngFor="let match of matches | filterByPhase: 'Semifinal'">
        <!-- Match card content -->
      </div>
    </div>
  </section>

  <section id="final" class="group-section">
    <h2 (click)="toggleSection('final')">Final</h2>
    <div class="prediction-cards" [@toggleAnimation]="sectionVisible['final']">
      <div class="prediction-card" *ngFor="let match of matches | filterByPhase: 'Final'">
        <!-- Match card content -->
      </div>
    </div>
  </section>
</div>